<?xml version="1.0"?>
<robot name="ar4" xmlns:xacro="http://www.ros.org/wiki/xacro">

  <!-- Base -->
  <link name="ar4_base_link"/>

  <!-- Joint 1 -->
  <link name="ar4_link_1"/>
  <joint name="ar4_joint_1" type="revolute">
    <parent link="ar4_base_link"/>
    <child link="ar4_link_1"/>
    <origin xyz="0 0 0.089" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.1416" upper="3.1416" effort="100" velocity="1.0"/>
  </joint>

  <!-- Joint 2 -->
  <link name="ar4_link_2"/>
  <joint name="ar4_joint_2" type="revolute">
    <parent link="ar4_link_1"/>
    <child link="ar4_link_2"/>
    <origin xyz="0 0 0.089" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.5708" upper="1.5708" effort="100" velocity="1.0"/>
  </joint>

  <!-- Joint 3 -->
  <link name="ar4_link_3"/>
  <joint name="ar4_joint_3" type="revolute">
    <parent link="ar4_link_2"/>
    <child link="ar4_link_3"/>
    <origin xyz="0.425 0 0" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-3.1416" upper="3.1416" effort="100" velocity="1.0"/>
  </joint>

  <!-- Joint 4 -->
  <link name="ar4_link_4"/>
  <joint name="ar4_joint_4" type="revolute">
    <parent link="ar4_link_3"/>
    <child link="ar4_link_4"/>
    <origin xyz="0.392 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-3.1416" upper="3.1416" effort="100" velocity="1.0"/>
  </joint>

  <!-- Joint 5 -->
  <link name="ar4_link_5"/>
  <joint name="ar4_joint_5" type="revolute">
    <parent link="ar4_link_4"/>
    <child link="ar4_link_5"/>
    <origin xyz="0 0 0.109" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-1.5708" upper="1.5708" effort="100" velocity="1.0"/>
  </joint>

  <!-- Joint 6 -->
  <link name="ar4_link_6"/>
  <joint name="ar4_joint_6" type="revolute">
    <parent link="ar4_link_5"/>
    <child link="ar4_link_6"/>
    <origin xyz="0.094 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-3.1416" upper="3.1416" effort="100" velocity="1.0"/>
  </joint>

  <!-- End-effector -->
  <link name="ar4_ee_link"/>
  <joint name="ar4_flange" type="fixed">
    <parent link="ar4_link_6"/>
    <child link="ar4_ee_link"/>
    <origin xyz="0 0 0.082" rpy="0 0 0"/>
  </joint>

  <!-- ros2_control hardware interface -->
  <ros2_control name="AR4System" type="system">
    <hardware>
      <plugin>ar4_hardware/AR4SystemHardware</plugin>
    </hardware>

    <joint name="ar4_joint_1">
      <command_interface name="position">
        <param name="min">-3.1416</param>
        <param name="max">3.1416</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>

    <joint name="ar4_joint_2">
      <command_interface name="position">
        <param name="min">-1.5708</param>
        <param name="max">1.5708</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>

    <joint name="ar4_joint_3">
      <command_interface name="position">
        <param name="min">-3.1416</param>
        <param name="max">3.1416</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>

    <joint name="ar4_joint_4">
      <command_interface name="position">
        <param name="min">-3.1416</param>
        <param name="max">3.1416</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>

    <joint name="ar4_joint_5">
      <command_interface name="position">
        <param name="min">-1.5708</param>
        <param name="max">1.5708</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>

    <joint name="ar4_joint_6">
      <command_interface name="position">
        <param name="min">-3.1416</param>
        <param name="max">3.1416</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
  </ros2_control>

</robot>
